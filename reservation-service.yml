asyncapi: '2.4.0'
id: 'urn:io.microcks.example.reservation-service'
info:
  title: Reservation Service
  version: 1.0.0
  description: This service is in charge of reservation
defaultContentType: application/json
channels:
  reservation/creation:
    subscribe:
      operationId: reservationCreation
      message:
        $ref: '#/components/messages/ReservationCreation'
        examples:
          $ref: '#/components/examples/reservation'
components:
  messages:
    ReservationCreation:
      payload:
        type: object
        properties:
          action:
            type: string
            description: action
          confirmationNumber:
            description: confirmation details
            type: object
            properties:
              id:
                type: string
              provider:
                type: string
              value:
                type: string
              type:
                type: string
        examples:
          - reservation:
              summary: sample of a reservation message
              payload:
                action: 'create'
                confirmationNumber:
                  id: '{{randomString(5)}}'
                  provider: 'TEST'
                  value: '{{randomString(8)}}'
                  type: 'Confirmation'
